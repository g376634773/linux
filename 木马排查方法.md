木马排查方法
===========
一、黑客如何让脚本定时执行  
1、计划任务： crontab  
2、开机启动  
3、系统命令被人替换，定一个触发事件  

1、计划任务： crontab  
1）用户级别的计划任务  
```
ll /var/spool/cron/ 
total 8
-rw------- 1 root root 42 Nov 12 10:11 bin
-rw------- 1 root root 19 Nov 12 10:06 root
注：所有用户的计划任务，都会在/var/spool/cron/下产生对应用户名的文件。
```  
2）系统级别的计划任务  
```
ls /etc/cron   #按两下tab键
cron.d/       cron.deny     cron.monthly/ cron.weekly/
cron.daily/   cron.hourly/  crontab   
注：
crontab   #写具体时间的统级别的定时任务
cron.d/    #系统级别的定时任务
cron.daily/  #系统每天要执行计划任务
cron.hourly/  #系统每小时要执行计划任务
cron.monthly/  #系统每月要执行计划任务
cron.weekly/  #系统每周要执行计划任务
```  
```  find /etc/cron*  #查看可以添加系统级别的计划任务 ```  

3）排查方法1：利用md5sum ，来检验文件的完整性
```
# find /etc/cron* -type f -exec md5sum {} \; >/usr/share/file_md5.v2
# diff /tmp/file_md5.v1 /tmp/file_md5.v2   #对比
< 6152bd26fc26d623eaf9dd551b9faed8  /etc/cron.daily/tmpwatch
---
> a34bbcd2c63889ad2a1ab48d751dc974  /etc/cron.daily/tmpwatch
```
